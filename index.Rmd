---
title: Mackrics
output:
  litedown::html_format:
    meta:
      css: ["index-style.css", "styles.css", "https://prismjs.catppuccin.com/mocha.css"]
---

# Hello there,

I am an quantitative analyst within competition economics. I enjoy solving 
quantitative problems and automating "boring tasks" using my in-depth knowledge 
of statistical programming languages (primarily [R](https://www.r-project.org/))
and other open source tools such as [Git](https://git-scm.com/), 
[Quarto](https://quarto.org/), and shell scripting.

I enjoy working on small side project to learn more about programming, such as:

- [Ricethemes](https://github.com/Mackrics/ricethemes): an R package with cool
  ggplot2 themes.
- [Neoslime](https://github.com/Mackrics/neoslime): a neovim plugin to send
  code from the editor to a neovim terminal.


# Latest posts

```{r}
#| results = 'asis',
#| echo = FALSE

gen_blogroll <- function(nrow) {
  fs::dir_ls("blog", regex = "*.Rmd") |>
  data.table(path = _) |>
  copy() |>
  _[path != "blog/index.Rmd"] |>
  _[, let(
      params = lapply(path, rmarkdown::yaml_front_matter)
    )] |>
  _[, let(
        date = as.Date(purrr::map_chr(params, \(x) x[[ "date" ]])),
        title = purrr::map_chr(params, \(x) x[[ "title" ]]),
	link = stringr::str_replace(path, "Rmd", "html")
  )] |>
  _[,let(
    print = purrr::pmap_chr(
      list(date, title, link), 
      \(date, title, link) glue::glue("\n\n**{date}**: [{title}]({link})\n\n")))
  ][order(-date), print] |>
  head(5) |>
  cat()
}
gen_blogroll(5)
```

[View all](./blog/index.html)


- todo: exclude script components

```r

gen_feed <- function(items, title, link) {
  paste0("<rss version='2.0'>
<channel>
  <title>", title, "</title>
  <link>", link, "</link>\n",
items,
"\n  </channel>,
</rss>")
}

get_body <- function(file_path, url) {
  paste0("Read the full post [here](", url, "/", file_path, ").", sep = "") |>
  litedown::mark()
}

get_rss_items <- function(url) {
  path_data <-
    data.frame(
      path = list.files("blog", pattern = "*.Rmd", full.names = TRUE)
    ) 
  feed_data <-
  data.frame(path = path_data[path_data$path != "blog/index.Rmd", ]) |>
  within({
    params = lapply(path, rmarkdown::yaml_front_matter)
  }) |>
  within({
      date  = paste0("    <pubDate>", as.Date(purrr::map_chr(params, \(x) x[[ "date" ]])), "</pubDate>")
      title = paste0("    <title>", purrr::map_chr(params, \(x) x[[ "title" ]]), "</title>")
      link  = paste0("    <guid>https://mackrics.com/", stringr::str_replace(path, "Rmd", "html"), "</guid>")
      desc  = paste0("    <description>", purrr::map_chr(stringr::str_replace(path, "Rmd$", "html"), \(x) get_body(x, {{ url }})), "</description>")
  }) 
  out_data <-
  feed_data[order(feed_data$date), ] |>
  within({
    out = purrr::pmap(list(title, link, date, desc), \(...) paste0(c(...), collapse = "\n"))
  })
out <-
  paste0("  <item>\n", out_data$out, "\n  </item>") |>
  paste0(collapse = "\n")
  return(out)
}

get_rss_items("https://mackrics.com/blog") |>
  gen_feed("Mackrics", "https://mackrics.com/blog") |>
  write("index.xml")
```
